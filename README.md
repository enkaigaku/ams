# 打刻管理システム - プロジェクト概要

このプロジェクトは、従業員の出退勤時刻を正確に記録し、基本的な勤怠管理を効率化するWebアプリケーションです。

## プロジェクト構成

```
ams/
├── attendance_requirements.md    # 要件定義書
├── PROJECT_OVERVIEW.md         # このファイル
└── frontend/                   # フロントエンドアプリケーション
    ├── public/                 # 静的ファイル
    ├── src/                   # ソースコード
    ├── package.json           # 依存関係
    └── README.md             # フロントエンド詳細ドキュメント
```

## 実装済み機能

### 🏗️ システム基盤

✅ **プロジェクトセットアップ**
- React 18 + TypeScript + Vite
- モダンな開発環境構成
- ESLint、Prettier設定

✅ **依存関係管理**
- React Router v6 (ルーティング)
- TanStack Query (サーバー状態管理)
- Zustand (クライアント状態管理)
- Tailwind CSS (スタイリング)
- React Hook Form + Zod (フォーム・バリデーション)
- Axios (HTTP クライアント)
- date-fns (日付操作)
- Heroicons (アイコン)

✅ **プロジェクト構造**
- 体系的なフォルダ構成
- コンポーネント、ページ、サービス、ストアの分離
- TypeScript型定義の整理

### 🔐 認証・セキュリティ

✅ **認証システム**
- JWT トークンベース認証
- ログインページの実装
- ユーザー情報の永続化 (Zustand + localStorage)

✅ **アクセス制御**
- 役割ベースアクセス制御 (従業員/管理者)
- ルート保護 (AuthGuard コンポーネント)
- 未認証時の自動リダイレクト

### 🎨 UI/UX

✅ **デザインシステム**
- 再利用可能UIコンポーネント
  - Button, Input, Card, Modal, Badge, LoadingSpinner
- 一貫したデザイン言語
- アクセシビリティ対応

✅ **レスポンシブデザイン**
- モバイルファースト設計
- PC、タブレット、スマートフォン対応
- タッチデバイス最適化

✅ **PWA対応**
- Web App Manifest
- ホーム画面への追加対応
- テーマカラー設定

### 👥 従業員機能

✅ **ダッシュボード**
- 現在時刻表示
- 今日の勤務状況確認
- 勤務時間計算
- ステータス表示 (勤務中、休憩中、退勤済み等)

✅ **打刻機能**
- 出勤・退勤打刻
- 休憩開始・終了打刻
- リアルタイム状態更新
- 位置情報取得 (オプション)
- モバイル最適化された専用画面

✅ **勤怠履歴**
- カレンダー形式の履歴表示
- 月次データ表示
- 詳細な勤務記録確認
- 統計情報 (出勤日数、遅刻回数等)

✅ **申請機能**
- 休暇申請 (有給、病欠、私用)
- 打刻修正申請
- 申請状況確認
- 申請の取り下げ

### 👑 管理者機能

✅ **管理ダッシュボード**
- チーム全体の出勤状況概要
- 統計情報 (出勤者数、遅刻者数、欠勤者数)
- リアルタイムアラート
- 承認待ち申請の一覧

✅ **チーム管理**
- メンバーの詳細出勤状況
- 日別チーム状況確認
- グリッド・リスト表示切替
- 勤務時間計算・表示

✅ **承認システム**
- 休暇申請の承認・却下
- 打刻修正申請の承認・却下
- 申請詳細確認
- 一括処理対応

✅ **レポート機能**
- 月次レポート生成
- CSVエクスポート機能
- 期間指定レポート
- 個人・チーム別集計

### 🛠️ 技術的実装

✅ **状態管理**
- Zustand による軽量状態管理
- 認証状態の永続化
- 打刻状態のリアルタイム管理

✅ **API統合**
- 統一されたAPI通信レイヤー
- 自動認証ヘッダー注入
- エラーハンドリング
- 楽観的更新

✅ **ルーティング**
- React Router による SPA ルーティング
- 役割ベースアクセス制御
- 動的リダイレクト

✅ **モバイル最適化**
- PWA マニフェスト
- レスポンシブデザイン
- タッチフレンドリーUI
- 高解像度ディスプレイ対応

## 技術仕様

### フロントエンド技術スタック

| 技術 | バージョン | 用途 |
|-----|----------|------|
| React | 18.x | UIライブラリ |
| TypeScript | 5.x | 型安全性 |
| Vite | 7.x | ビルドツール |
| React Router | 6.x | ルーティング |
| TanStack Query | 5.x | サーバー状態管理 |
| Zustand | 4.x | クライアント状態管理 |
| Tailwind CSS | 3.x | スタイリング |
| React Hook Form | 7.x | フォーム管理 |
| Zod | 3.x | バリデーション |
| Axios | 1.x | HTTP通信 |
| date-fns | 3.x | 日付操作 |
| Heroicons | 2.x | アイコン |

### アーキテクチャパターン

- **コンポーネント駆動開発**: 再利用可能なUIコンポーネント
- **レイヤードアーキテクチャ**: UI → サービス → API の分離
- **状態管理パターン**: Zustand による軽量状態管理
- **型安全性**: TypeScript による包括的な型定義

### セキュリティ対策

- JWT トークンベース認証
- 役割ベースアクセス制御 (RBAC)
- XSS対策 (サニタイゼーション)
- CSRF対策
- 機密情報の適切な管理

## ファイル構成詳細

### `/src` ディレクトリ構造

```
src/
├── components/           # 再利用可能コンポーネント
│   ├── ui/              # 基本UIコンポーネント
│   │   ├── Button.tsx
│   │   ├── Input.tsx
│   │   ├── Card.tsx
│   │   ├── Modal.tsx
│   │   ├── Badge.tsx
│   │   ├── LoadingSpinner.tsx
│   │   └── index.ts
│   ├── forms/           # フォーム専用コンポーネント
│   └── layout/          # レイアウトコンポーネント
│       ├── AuthGuard.tsx
│       └── AppLayout.tsx
├── pages/               # ページコンポーネント
│   ├── auth/           # 認証関連
│   │   └── LoginPage.tsx
│   ├── employee/       # 従業員向け
│   │   ├── EmployeeDashboard.tsx
│   │   ├── ClockPage.tsx
│   │   ├── AttendanceHistory.tsx
│   │   └── RequestsPage.tsx
│   └── manager/        # 管理者向け
│       ├── ManagerDashboard.tsx
│       ├── TeamOverview.tsx
│       ├── ApprovalQueue.tsx
│       └── ReportsPage.tsx
├── hooks/              # カスタムReactフック
│   ├── useAuthCheck.ts
│   ├── useCurrentTime.ts
│   ├── useClockActions.ts
│   └── index.ts
├── services/           # API通信レイヤー
│   ├── api.ts          # 基本API設定
│   ├── authService.ts  # 認証API
│   ├── timeService.ts  # 打刻API
│   ├── requestService.ts # 申請API
│   └── managerService.ts # 管理者API
├── stores/             # 状態管理
│   ├── authStore.ts    # 認証状態
│   └── timeStore.ts    # 打刻状態
├── types/              # TypeScript型定義
│   └── index.ts        # 全型定義
├── utils/              # ユーティリティ
│   └── cn.ts           # クラス名結合
├── App.tsx             # メインアプリ
└── main.tsx            # エントリーポイント
```

## 開発・運用指針

### 開発プロセス

1. **型定義ファースト**: 新機能開発時は型定義から開始
2. **コンポーネント駆動**: 再利用可能なコンポーネントを優先
3. **テスト駆動**: 主要機能にはテストを必須
4. **モバイルファースト**: レスポンシブデザインを前提

### コードスタイル

- TypeScript厳密モード
- ESLint + Prettier による自動整形
- 命名規則の統一
- インポート順序の統一

### パフォーマンス考慮

- 遅延ローディング (React.lazy)
- メモ化 (React.memo, useMemo)
- バンドルサイズ最適化
- 画像最適化

## 今後の拡張計画

### Phase 2: 機能拡張

- [ ] プッシュ通知対応
- [ ] オフライン機能拡張
- [ ] 生体認証対応
- [ ] 多言語対応 (i18n)
- [ ] テーマカスタマイズ

### Phase 3: エンタープライズ機能

- [ ] SSO統合
- [ ] 監査ログ
- [ ] 詳細分析ダッシュボード
- [ ] API 公開
- [ ] Webhook 対応

### Phase 4: モバイルアプリ

- [ ] React Native アプリ
- [ ] ネイティブプッシュ通知
- [ ] オフライン同期
- [ ] ウィジェット対応

## メンテナンス

### 定期メンテナンス項目

- 依存関係の更新
- セキュリティパッチ適用
- パフォーマンス監視
- エラーログ確認

### モニタリング

- アプリケーションパフォーマンス
- エラー率
- ユーザー行動分析
- セキュリティログ

---

このプロジェクトは MVP (Minimum Viable Product) として設計されており、基本的な勤怠管理機能を効率的に提供します。将来的な拡張性も考慮した設計となっています。